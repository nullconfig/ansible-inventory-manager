<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%= title %></title>
  <script>
    // Environment configuration from build process
    window.CONFIG = <%= config %> || {
      API_ENDPOINT: "/api",
      DEFAULT_EXPANDED: false,
      ENABLE_EDIT: true,
      ENABLE_DELETE: false,
      ENABLE_CREATE: false,
      DEBUG_MODE: false,
      ICONS: {
        FOLDER: "folder",
        SERVER: "server",
        CHEVRON_RIGHT: "chevron-right",
        CHEVRON_DOWN: "chevron-down"
      }
    };

    // Enable debug output to help troubleshoot
    if (window.CONFIG.DEBUG_MODE) {
      console.log("CONFIG loaded:", window.CONFIG);
    }
  </script>
  <style>
    :root {
      --primary-color: <%= JSON.parse(config).PRIMARY_COLOR || '#0f766e' %>;
      --secondary-color: <%= JSON.parse(config).SECONDARY_COLOR || '#374151' %>;
      --bg-color: <%= JSON.parse(config).BG_COLOR || '#f0fdfa' %>;
      --border-color: <%= JSON.parse(config).BORDER_COLOR || '#d1d5db' %>;
      --selected-bg: <%= JSON.parse(config).SELECTED_BG || '#ccfbf1' %>;
      --table-header-bg: <%= JSON.parse(config).TABLE_HEADER_BG || '#f3f4f6' %>;
      --table-border: <%= JSON.parse(config).TABLE_BORDER || '#d1d5db' %>;
      --font-family: <%= JSON.parse(config).FONT_FAMILY || '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif' %>;
    }
    
    body {
      font-family: var(--font-family);
    }
    
    /* Custom CSS from config */
    <%= JSON.parse(config).CUSTOM_CSS || '' %>
  </style>
</head>
<body>
  <div id="root"></div>
</body>
</html>